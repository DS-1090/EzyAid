import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import 'fontprovider.dart';
import 'text_to_speech.dart';

class LangSchemeDetailsPage extends StatefulWidget {
  final String schemeName;

  const LangSchemeDetailsPage({super.key, required this.schemeName});

  @override
  State<LangSchemeDetailsPage> createState() => _LangSchemeDetailsPageState();
}

class _LangSchemeDetailsPageState extends State<LangSchemeDetailsPage>
    with SingleTickerProviderStateMixin {
  late TabController _tabController;
  bool isTtsEnabled = false;
  final TextToSpeechService tts = TextToSpeechService();
  final Map<String, Map<String, String>> schemeContent = {
    'ఫీడ్ ఫర్ సీడ్': {
      'details': '''
తెలంగాణ ప్రభుత్వం ప్రారంభించిన "ఫీడ్ ఫర్ సీడ్" కార్యక్రమం వ్యవసాయాన్ని ప్రోత్సహించేందుకు మరియు రైతులకు మద్దతు ఇవ్వడానికై రూపొందించబడింది. ఈ కార్యక్రమం కింద రైతులు తమ స్వంత విత్తనాలను ఉత్పత్తి చేయడానికి ప్రోత్సహించబడతారు, వీరిలో నాణ్యమైన పంటల విత్తనాలు ఉచితంగా పంపిణీ చేయబడతాయి.
ఈ కార్యక్రమం కింద రైతులకు కూరగాయలు, పప్పులు, ధాన్యాలు మరియు నూనె గింజల వంటి పంటల విత్తనాలు ఉండే కిట్‌ అందించబడుతుంది. ఈ కిట్‌లో పంటలను సాగు చేయడం, పండించడం, విత్తన ఉత్పత్తి మరియు నిల్వలపై సూచనలూ ఉంటాయి.
"సీడ్ విలేజ్" కాన్సెప్ట్ ఆధారంగా రైతులు నాణ్యమైన విత్తనాలను ఉత్పత్తి చేసి వాటిని మార్కెట్‌లో అమ్ముకోవచ్చు. పంటల మార్చిపెట్టు, సేంద్రీయ వ్యవసాయం, మరియు సంప్రదాయ విత్తనాల పరిరక్షణ వంటి సుస్థిర వ్యవసాయ పద్ధతులకు ఈ కార్యక్రమం ప్రోత్సాహం ఇస్తుంది.

ప్రధాన పాయింట్లు:
- గడ్డి విత్తనాలపై 75% సబ్సిడీ.
- PC-23, SSG, స్టైలిస్, లూసేన్, ఆఫ్రికన్ టాల్ వంటి రకాల విత్తనాలు పంపిణీ.
- మేకలు, గేదె, ఆవు, గొర్రెలు ఉన్న రైతులకు గడ్డి విత్తనాల కోసం అర్హత.
''',
      'benefits': '''
- నాణ్యమైన విత్తనాల ప్రాప్తి: పంటల దిగుబడిని మెరుగుపరుస్తుంది.
- రైతులకు ఆదాయ పెంపు: తమ స్వంత విత్తనాలను ఉత్పత్తి చేసి ఇతరులకు విక్రయించవచ్చు.
- సుస్థిర వ్యవసాయానికి ప్రోత్సాహం: పంట మార్చిపెట్టు, సేంద్రీయ వ్యవసాయం, సంప్రదాయ రకాల పరిరక్షణ.
- రైతుల సాధికారత: విత్తన ఉత్పత్తిలో స్వావలంబన, మధ్యవర్తులపై ఆధారాన్ని తగ్గించడం.
- వ్యవసాయ రంగానికి వృద్ధి: విత్తనాల లభ్యత పెరగడం, పంట దిగుబడి మెరుగుదల, రైతులకు ఆదాయ వృద్ధి.
''',
      'eligibility': '''
అర్హులు:
- పశుపాలన చేసే రైతులు.
- స్వంత భూమి లేదా లీజు భూమి కలిగి ఉండాలి.
- పశుపాలన కోసం ప్రభుత్వ భూముల్లో వ్యవసాయం చేసే రైతులు కూడా అర్హులు.

అర్హత లేనివారు:
- పశుపాలన లేని రైతులు.
- భూమి ఉన్నా పశువులు లేని వారు.
''',
      'application': '''
- జిల్లా వ్యవసాయ కార్యాలయం లేదా SSDC కార్యాలయం వద్ద దరఖాస్తు ఫారం పొందాలి లేదా అధికారిక వెబ్‌సైట్ నుండి డౌన్‌లోడ్ చేసుకోవచ్చు.
- పేరు, చిరునామా, భూమి వివరాలు, పంట అభిరుచులు తదితర సమాచారంతో ఫారం పూరించాలి.
- ఆధార్, బ్యాంక్ వివరాలు మరియు భూమి సంబంధిత పత్రాలతో పాటు సమర్పించాలి.
- దరఖాస్తును పరిశీలించిన తర్వాత, రైతులకు విత్తన కిట్ అందించబడుతుంది.
- విత్తనాలను సాగుచేసి, పెంపుదల తర్వాత ఉత్పత్తి చేసిన అదనపు విత్తనాలను అమ్ముకోవచ్చు.
- “ముందు వచ్చిన వారికి ప్రాధాన్యత” ఆధారంగా అమలు చేయబడుతుంది, అందువల్ల తొందరగా దరఖాస్తు చేయాలని సూచించబడుతుంది.
''',
    },
    'फीड फॉर सीड': {
      'details': '''
तेलंगाना सरकार द्वारा शुरू किया गया "फीड फॉर सीड" कार्यक्रम कृषि को बढ़ावा देने और किसानों को समर्थन देने के लिए तैयार किया गया है। इस कार्यक्रम के तहत किसानों को अपनी खुद की बीजों का उत्पादन करने के लिए प्रेरित किया जाता है, और इन्हें उच्च गुणवत्ता वाले फसलों के बीज मुफ्त में वितरित किए जाते हैं।
इस कार्यक्रम के तहत किसानों को सब्जियाँ, दालें, अनाज और तेल बीजों के किट दिए जाते हैं। इस किट में फसल की खेती, उगाने, बीज उत्पादन और भंडारण के लिए निर्देश होते हैं।
"सीड विलेज" अवधारणा के तहत, किसान उच्च गुणवत्ता वाले बीज का उत्पादन कर सकते हैं और उन्हें बाज़ार में बेच सकते हैं। यह कार्यक्रम फसल रोटेशन, जैविक खेती और पारंपरिक बीज संरक्षण जैसी स्थिर कृषि पद्धतियों को बढ़ावा देता है।

मुख्य बिंदु:
- घास के बीजों पर 75% सब्सिडी।
- PC-23, SSG, स्टाइलिस, लुसिन, अफ्रीकी टॉल जैसे प्रकार के बीज वितरित किए जाते हैं।
- बकरियाँ, गाय, बैल, और भेड़ें रखने वाले किसानों के लिए घास के बीज की पात्रता।
''',
      'benefits': '''
- उच्च गुणवत्ता वाले बीजों की उपलब्धता: फसल की पैदावार बढ़ाती है।
- किसानों की आय में वृद्धि: अपने बीजों का उत्पादन कर उन्हें दूसरों को बेच सकते हैं।
- स्थिर कृषि को बढ़ावा: फसल रोटेशन, जैविक खेती, और पारंपरिक बीजों का संरक्षण।
- किसानों की सशक्तिकरण: बीज उत्पादन में आत्मनिर्भरता, बिचौलियों पर निर्भरता को कम करना।
- कृषि क्षेत्र में विकास: बीजों की उपलब्धता में वृद्धि, फसल पैदावार में सुधार, किसानों की आय में वृद्धि।
''',
      'eligibility': '''
पात्रता:
- पशुपालन करने वाले किसान।
- स्वयं की ज़मीन या पट्टे की ज़मीन होनी चाहिए।
- पशुपालन के लिए सरकारी ज़मीन पर कृषि करने वाले किसान भी पात्र हैं।

अयोग्य:
- पशुपालन न करने वाले किसान।
- ज़मीन तो है लेकिन पशु नहीं रखने वाले।
''',
      'application': '''
- जिला कृषि कार्यालय या SSDC कार्यालय से आवेदन पत्र प्राप्त करना होगा या आधिकारिक वेबसाइट से डाउनलोड किया जा सकता है।
- नाम, पता, ज़मीन विवरण, फसल प्राथमिकताएँ आदि की जानकारी के साथ फॉर्म भरना होगा।
- आधार, बैंक विवरण और भूमि संबंधित दस्तावेजों के साथ इसे प्रस्तुत करना होगा।
- आवेदन की समीक्षा के बाद, किसानों को बीज किट प्रदान किया जाएगा।
- बीजों को उगाकर, उन्हें बेचने के बाद अतिरिक्त बीजों को बेचा जा सकता है।
- "पहले आओ, पहले पाओ" के आधार पर इसे लागू किया जाता है, इसलिए जल्द आवेदन करने की सलाह दी जाती है।
''',
    },

    'ప్రధాన మంత్రి అవాస్ యోజన': {
      'details': '''
ప్రధాన మంత్రి అవాస్ యోజన (PMAY) 2015లో కేంద్ర ప్రభుత్వం ప్రారంభించిన ఒక ప్రధాన గృహనిర్మాణ పథకం. దీని ముఖ్య ఉద్దేశ్యం 2022 నాటికి ప్రతి పేద కుటుంబానికి సురక్షితమైన మరియు మౌలిక సదుపాయాలున్న ఇల్లు కల్పించడం. ఇది రెండు విభాగాల్లో అమలవుతోంది: PMAY-Gramin (గ్రామీణ ప్రాంతాలకు) మరియు PMAY-Urban (పట్టణ ప్రాంతాలకు).
గ్రామీణ ప్రాంతాల్లో గృహాల కొరతను తగ్గించడానికి మరియు పట్టణాల్లో నిరాశ్రయులుగా ఉన్న వారికి అర్థసామర్థ్యం గల ఇళ్ళు అందించడానికి ఈ పథకం రూపొందించబడింది. ఈ పథకం క్రింద కొత్త ఇళ్ల నిర్మాణానికి మరియు ప్రస్తుత ఇళ్ల నवीనీకరణకు ఆర్థిక సహాయం అందుతుంది.
ప్రతి గృహానికి మౌలిక సదుపాయాలు - తాగునీరు, విద్యుత్ కనెక్షన్, వంటగ్యాస్ కనెక్షన్, సురక్షిత టాయిలెట్ వంటి వాటిని ఇతర ప్రభుత్వ పథకాల ద్వారా కల్పిస్తారు.
''',
      'benefits': '''
- సమతల ప్రాంతాల్లో ₹1.20 లక్షల ఆర్థిక సహాయం, హిల్లీ మరియు కష్టం ఉన్న ప్రాంతాల్లో ₹1.30 లక్షలు.
- మహాత్మా గాంధీ జాతీయ గ్రామీణ ఉపాధి హామీ పథకం (MGNREGS) ద్వారా 90 రోజులు పని మంజూరు.
- వంటగ్యాస్ కనెక్షన్ (ఉజ్వలా యోజన), విద్యుత్ కనెక్షన్ (సౌభాగ్య యోజన), నీటి సదుపాయం మరియు ఇతర మౌలిక సదుపాయాల కల్పన.
- నగదు బదిలీ నేరుగా లబ్ధిదారుల ఆధార్ లింక్ బ్యాంక్ ఖాతాల్లోకి పంపిణీ.
- వ్యక్తిగతంగా ఇల్లు నిర్మించుకునేలా చేయడం ద్వారా స్థిరత్వం మరియు గౌరవాన్ని కల్పిస్తుంది.
''',
      'eligibility': '''
- ఇంటి లేని పేద కుటుంబాలు లేదా కట్చా/నిరుపయోగమైన ఇళ్లలో నివసించే వారు.
- ఇంటి కలిగి లేని మహిళా అధిపత్య కుటుంబాలు ప్రాధాన్యత పొందతాయి.
- SC/ST, మైనారిటీస్, ఇతర వెనుకబడిన తరగతులు, మరియు వీలైన పేద కుటుంబాలు.
- గ్రామ సభల ద్వారా ఎంపికైన లబ్ధిదారుల జాబితా.
- లబ్ధిదారులు తప్పనిసరిగా SECC 2011 డేటాలో ఉండాలి.
''',
      'application': '''
- లబ్ధిదారులు గ్రామ పంచాయతీకి లేదా బ్లాక్ కార్యాలయానికి వెళ్లి దరఖాస్తు చేసుకోవచ్చు.
- అప్లికేషన్ ఫారాన్ని నింపి అవసరమైన ఆధారాలతో (ఆధార్, నివాసం, సంపాదన ధృవీకరణ, మొదలైనవి) సమర్పించాలి.
- అధికారులు ధృవీకరించిన తర్వాత ఎంపిక చేయబడిన లబ్ధిదారుల జాబితా అధికారికంగా ప్రచురించబడుతుంది.
- డబ్బులు విడివిడిగా దశల వారీగా బ్యాంక్ ఖాతాల్లోకి జమ చేయబడతాయి.
''',
    },

    'प्रधान मंत्री आवास योजना': {
      'details': '''
प्रधान मंत्री आवास योजना (PMAY) वर्ष 2015 में भारत सरकार द्वारा शुरू की गई एक प्रमुख आवास योजना है। इसका उद्देश्य 2022 तक हर गरीब परिवार को सुरक्षित और मूलभूत सुविधाओं वाला घर प्रदान करना है। यह योजना दो भागों में विभाजित है: PMAY-Gramin (ग्रामीण क्षेत्रों के लिए) और PMAY-Urban (शहरी क्षेत्रों के लिए)।

यह योजना ग्रामीण क्षेत्रों में घरों की कमी को कम करने और शहरी क्षेत्रों में बेघर या कच्चे मकानों में रहने वालों को किफायती घर प्रदान करने हेतु बनाई गई है। इसके अंतर्गत नए घरों के निर्माण और पुराने घरों के नवीनीकरण के लिए वित्तीय सहायता दी जाती है।

प्रत्येक घर को शुद्ध पेयजल, बिजली कनेक्शन, रसोई गैस, शौचालय जैसी मूलभूत सुविधाएं अन्य सरकारी योजनाओं के माध्यम से प्रदान की जाती हैं।
''',
      'benefits': '''
- मैदानी क्षेत्रों में ₹1.20 लाख और पहाड़ी/कठिन इलाकों में ₹1.30 लाख की सहायता।
- महात्मा गांधी राष्ट्रीय ग्रामीण रोजगार गारंटी योजना (MGNREGS) के तहत 90 दिन का मजदूरी कार्य।
- उज्ज्वला योजना के तहत रसोई गैस, सौभाग्य योजना के तहत बिजली कनेक्शन और जल सुविधा।
- लाभार्थियों के आधार लिंक बैंक खातों में सीधी नकद राशि स्थानांतरित की जाती है।
- स्वयं घर बनाकर रहने से आत्मनिर्भरता और सम्मान में वृद्धि।
''',
      'eligibility': '''
- ऐसे गरीब परिवार जिनके पास घर नहीं है या कच्चे/अपर्याप्त मकानों में रहते हैं।
- महिला मुखिया वाले परिवारों को प्राथमिकता।
- अनुसूचित जाति/जनजाति, अल्पसंख्यक, अन्य पिछड़ा वर्ग और अन्य योग्य गरीब परिवार।
- लाभार्थियों का चयन ग्राम सभा द्वारा किया जाता है।
- लाभार्थियों का SECC 2011 डेटा में दर्ज होना अनिवार्य है।
''',
      'application': '''
- लाभार्थी ग्राम पंचायत या ब्लॉक कार्यालय जाकर आवेदन कर सकते हैं।
- आवेदन पत्र भरकर आवश्यक दस्तावेज़ों (आधार, निवास प्रमाण, आय प्रमाण आदि) के साथ जमा करें।
- अधिकारियों द्वारा सत्यापन के बाद लाभार्थियों की सूची प्रकाशित की जाती है।
- राशि किस्तों में सीधे बैंक खाते में जमा की जाती है।
''',
    },

    'మహాత్మా జ్యోతిబా ఫూలే ఓవర్సీస్ విద్యా నిధి': {
      'details': '''
“మహాత్మా జ్యోతిబా ఫూలే ఓవర్సీస్ విద్యా నిధి” పథకం తెలంగాణ రాష్ట్ర వెనుకబడిన తరగతుల సంక్షేమ శాఖ ద్వారా ప్రవేశపెట్టబడింది. ఇది BC మరియు EBC విద్యార్థులకు విదేశాల్లో ఉన్నత విద్యను అభ్యసించడానికి ఆర్థిక సహాయం అందించేందుకు ఉద్దేశించబడింది. ప్రతి సంవత్సరం 300 మంది విద్యార్థులకు ఈ పథకం కింద అనుమతి ఇవ్వబడుతుంది.
''',
      'benefits': '''
1. మొదటి విడతగా ₹10 లక్షలు (వీసా/ల్యాండింగ్ పర్మిట్/బోర్డింగ్ పాస్ ఆధారంగా).
2. మొదటి సెమిస్టర్ ఫలితాల తర్వాత రెండవ విడతగా ₹10 లక్షలు.
3. మొత్తం ₹20 లక్షలు గ్రాంట్ రూపంలో ఫీజులు మరియు జీవన ఖర్చుల కోసం.
4. జాతీయీకరించబడిన బ్యాంకుల ద్వారా ₹10 లక్షల విద్యా రుణానికి అర్హత.
5. ఒక్కదారి తక్కువ టికెట్ (ఎకానమీ క్లాస్) రీఇంబర్స్‌మెంట్.
6. వీసా ఫీజు పూర్తి రీఇంబర్స్‌మెంట్.
''',
      'eligibility': '''
- తెలంగాణ నివాసి అయి ఉండాలి.
- BC లేదా EBC కులానికి చెందాలి.
- జూలై 1 నాటికి వయసు 35 సంవత్సరాల కంటే తక్కువ ఉండాలి.
- కుటుంబ వార్షిక ఆదాయం ₹5 లక్షలకు మించకూడదు.
- ప్రతి కుటుంబానికి ఒక పిల్లవాడికి మాత్రమే అర్హత.
- సంబంధిత విభాగంలో UGలో కనీసం 60% మార్కులు ఉండాలి.
- GRE/GMAT/TOEFL/IELTS/PTE స్కోర్ ఉండాలి.
- గుర్తింపు పొందిన విదేశీ విశ్వవిద్యాలయంలో ప్రవేశం ఉండాలి.
- చెల్లుబాటు అయ్యే పాస్‌పోర్ట్ అవసరం.

అర్హత కలిగిన దేశాలు: USA, UK, ఆస్ట్రేలియా, కెనడా, సింగపూర్, జర్మనీ, న్యూజిలాండ్, జపాన్, ఫ్రాన్స్, దక్షిణ కొరియా.
''',
      'application': '''
1. పత్రికలు మరియు ePASS పోర్టల్ ద్వారా ప్రకటనలు (ఆగస్టు/సెప్టెంబర్ మరియు జనవరి/ఫిబ్రవరి).
2. 1 ఆగస్టు–30 సెప్టెంబర్ మరియు 1 జనవరి–28/29 ఫిబ్రవరి మధ్యలో ఆన్‌లైన్ దరఖాస్తు.
3. తెలంగాణ ePASS వెబ్‌సైట్‌ను సందర్శించండి.
4. “Overseas Scholarship Services” పై క్లిక్ చేయండి.
5. “మహాత్మా జ్యోతిబా ఫూలే ఓవర్సీస్ విద్యా నిధి” → రిజిస్ట్రేషన్ ఎంచుకోండి.
6. పూర్తి ఫారాన్ని అవసరమైన పత్రాలతో సమర్పించండి.
'''
    },
    'महात्मा ज्योतिबा फुले ओवरसीज विद्या निधि': {
      'details': '''
“महात्मा ज्योतिबा फुले ओवरसीज विद्या निधि” योजना तेलंगाना सरकार के पिछड़ा वर्ग कल्याण विभाग द्वारा शुरू की गई है। यह योजना BC और EBC समुदाय के मेधावी छात्रों को विदेशी विश्वविद्यालयों में उच्च शिक्षा प्राप्त करने के लिए सहायता प्रदान करती है। हर साल 300 छात्रों को योजना के तहत पोस्टग्रेजुएट पढ़ाई के लिए चुना जाएगा।
''',
      'benefits': '''
1. ₹10 लाख की पहली किस्त वीजा/बोर्डिंग पास/लैंडिंग परमिट दिखाने पर।
2. ₹10 लाख की दूसरी किस्त पहले सेमेस्टर के परिणाम प्रस्तुत करने पर।
3. कुल ₹20 लाख की ग्रांट फीस और रहने के खर्च के लिए।
4. किसी भी राष्ट्रीयकृत बैंक से ₹10 लाख का एजुकेशनल लोन लेने की पात्रता।
5. वन-वे इकोनॉमी फ्लाइट टिकट का भुगतान।
6. वीजा फीस की पूरी प्रतिपूर्ति।
''',
      'eligibility': '''
- तेलंगाना का निवासी होना चाहिए।
- BC या EBC समुदाय से संबंधित होना चाहिए।
- 1 जुलाई को उम्र 35 वर्ष से कम होनी चाहिए।
- परिवार की वार्षिक आय ₹5 लाख से कम होनी चाहिए।
- एक ही परिवार से एक बच्चा पात्र होगा।
- संबंधित फील्ड में स्नातक में कम से कम 60% अंक।
- वैध TOEFL/IELTS या GRE/GMAT/PTE स्कोर।
- मान्यता प्राप्त विदेशी विश्वविद्यालय में प्रवेश।
- वैध पासपोर्ट होना चाहिए।

पात्र देश: USA, UK, ऑस्ट्रेलिया, कनाडा, सिंगापुर, जर्मनी, न्यूज़ीलैंड, जापान, फ्रांस, दक्षिण कोरिया।
''',
      'application': '''
1. समाचार पत्रों और ePASS पोर्टल पर अधिसूचना (अगस्त/सितंबर और जनवरी/फरवरी)।
2. आवेदन की अवधि: 1 अगस्त–30 सितंबर और 1 जनवरी–28/29 फरवरी।
3. Telangana ePASS वेबसाइट पर जाएँ।
4. “Overseas Scholarship Services” पर क्लिक करें।
5. “महात्मा ज्योतिबा फुले ओवरसीज विद्या निधि” → रजिस्ट्रेशन चुनें।
6. फॉर्म को पूरी जानकारी और दस्तावेज़ों के साथ भरकर सबमिट करें।
'''
    },

    'నమోదు కాలేని కార్మికులకు సహాయం': {
      'details': '''
తెలంగాణ భవన నిర్మాణ కార్మికుల సంక్షేమ మండలి మరియు కార్మిక శాఖ ప్రారంభించిన ఈ పథకం ద్వారా నిర్మాణ ప్రాంతాల్లో జరిగిన ప్రమాదాల్లో మరణించిన నమోదు కాలేని కార్మికుల ఆశ్రితులకు ఆర్థిక సహాయం అందించబడుతుంది. అదేవిధంగా శాశ్వత వైకల్యం కలిగిన నమోదు కాలేని కార్మికులకు కూడా పరిహారం అందించబడుతుంది. ఈ కార్యక్రమం కార్మికుల సంక్షేమాన్ని లక్ష్యంగా పెట్టుకుని, వారు నమోదు కాలేని పరిస్థితుల్లోనూ వారికి మరియు వారి కుటుంబ సభ్యులకు మద్దతుగా నిలుస్తుంది.
''',
      'benefits': '''
మరణించిన కార్మికులకు పరిహారం:
నిర్మాణ ప్రదేశాల్లో జరిగిన ప్రమాదాల వల్ల మరణించిన నమోదు కాలేని కార్మికుల ఆశ్రితులకు ₹50,000/- ఆర్థిక సహాయం అందించబడుతుంది.

శాశ్వత వైకల్యానికి సహాయం:
వైకల్యం 50% లేదా అంతకంటే ఎక్కువ అయితే ₹20,000/- ఇవ్వబడుతుంది.

భాగశః వైకల్యానికి సహాయం:
వైకల్యం 50% కన్నా తక్కువగా ఉంటే ₹10,000/- ఇవ్వబడుతుంది.
''',
      'eligibility': '''
అకస్మాత్ మృతి:
- దరఖాస్తుదారు మృతుడు అయిన నమోదు కాలేని కార్మికుడి ఆధారితుడై ఉండాలి.
- కార్మికుడు అంధ్రప్రదేశ్ భవన నిర్మాణ కార్మికుల సంక్షేమ మండలిలో నమోదు కాలేదు.
- మృతి పని సమయంలో నిర్మాణ ప్రదేశంలో జరగాలి.

శాశ్వత వైకల్యం:
- నిర్మాణ ప్రదేశంలో జరిగిన ప్రమాదం వల్ల శాశ్వత వైకల్యం కలిగి ఉండాలి.
- వైకల్యం 50% లేదా అంతకంటే ఎక్కువ ఉండాలి.

భాగశః వైకల్యం:
- నిర్మాణ ప్రదేశంలో జరిగిన ప్రమాదం వల్ల భాగశః వైకల్యం కలిగి ఉండాలి.
- వైకల్యం 50% కన్నా తక్కువ ఉండాలి.
''',
      'application': '''
1. అధికారిక వెబ్‌సైట్‌కి వెళ్లి "Downloads" ఎంపికను ఎంచుకోండి.
2. పథకానికి అనుగుణంగా ఉన్న దరఖాస్తు ఫారాన్ని డౌన్‌లోడ్ చేయండి.
3. అన్ని అవసరమైన వివరాలను నమోదు చేసి, అవసరమైన డాక్యుమెంట్లను జత చేయండి (స్వీయ-సాక్ష్యపత్రంతో).
4. పూర్తిగా నింపిన దరఖాస్తును సంబంధిత కార్మిక శాఖ అధికారికి సమర్పించండి.
5. సమర్పణకు సంబంధించిన రశీదు లేదా అంగీకారాన్ని పొందండి. ఇందులో సమర్పించిన తేదీ, సమయం మరియు ఐడీ నంబర్ ఉండాలి.
'''
    },
    'अपंजीकृत श्रमिकों के लिए राहत': {
      'details': '''
तेलंगाना भवन एवं अन्य निर्माण श्रमिक कल्याण बोर्ड तथा श्रम विभाग द्वारा शुरू की गई इस योजना का उद्देश्य उन अपंजीकृत निर्माण श्रमिकों के आश्रितों को आर्थिक सहायता प्रदान करना है जिनकी निर्माण स्थलों पर दुर्घटना में मृत्यु हो जाती है। यह योजना उन श्रमिकों को भी मुआवज़ा देती है जिन्हें ऐसी दुर्घटनाओं में स्थायी विकलांगता हो जाती है। इस पहल का उद्देश्य यह सुनिश्चित करना है कि पंजीकरण की स्थिति के बावजूद श्रमिकों और उनके परिवारों को सहायता मिले।
''',
      'benefits': '''
मृत श्रमिकों के लिए मुआवजा:
निर्माण स्थलों पर दुर्घटना में मारे गए अपंजीकृत श्रमिकों के आश्रितों को ₹50,000/- की आर्थिक सहायता।

स्थायी विकलांगता के लिए सहायता:
अगर विकलांगता 50% या उससे अधिक हो तो ₹20,000/- प्रदान किए जाते हैं।

आंशिक स्थायी विकलांगता के लिए सहायता:
अगर विकलांगता 50% से कम हो तो ₹10,000/- प्रदान किए जाते हैं।
''',
      'eligibility': '''
दुर्घटनाजनित मृत्यु के लिए पात्रता:
- आवेदक मृत अपंजीकृत श्रमिक का आश्रित होना चाहिए।
- श्रमिक भवन और अन्य निर्माण श्रमिक कल्याण बोर्ड में पंजीकृत नहीं होना चाहिए।
- श्रमिक की मृत्यु कार्य के दौरान निर्माण स्थल पर हुई होनी चाहिए।

स्थायी विकलांगता के लिए पात्रता:
- निर्माण स्थल पर दुर्घटना के कारण स्थायी विकलांगता होनी चाहिए।
- विकलांगता 50% या उससे अधिक होनी चाहिए।

आंशिक विकलांगता के लिए पात्रता:
- निर्माण स्थल पर दुर्घटना के कारण आंशिक विकलांगता होनी चाहिए।
- विकलांगता 50% से कम होनी चाहिए।
''',
      'application': '''
1. आधिकारिक वेबसाइट पर जाएं और ऊपर दिए गए "Downloads" विकल्प पर क्लिक करें।
2. संबंधित योजना के नाम के सामने दिए गए डाउनलोड बटन पर क्लिक करें।
3. आवेदन पत्र में सभी आवश्यक जानकारी भरें और सभी आवश्यक दस्तावेज़ संलग्न करें (आवश्यकतानुसार स्वयं सत्यापित करें)।
4. भरे हुए और हस्ताक्षरित आवेदन पत्र को श्रम विभाग के संबंधित अधिकारी को जमा करें।
5. आवेदन जमा करने के बाद रसीद या पावती अवश्य लें, जिसमें तारीख, समय और यदि संभव हो तो एक यूनिक आईडी नंबर हो।
'''
    },
  };

  final Map<String, List<String>> localizedTabs = {
    'hindi': ['विवरण', 'लाभ', 'पात्रता', 'आवेदन'],
    'telugu': ['వివరాలు', 'లాభాలు', 'అర్హత', 'అప్లికేషన్'],
  };

  @override
  void initState() {
    super.initState();
    _tabController = TabController(length: 4, vsync: this);
    _tabController.addListener(() {
      if (!isTtsEnabled || !_tabController.indexIsChanging) return;
      _speakCurrentTabText();
    });
  }

  @override
  void dispose() {
    _tabController.dispose();
    tts.stop();
    super.dispose();
  }

  String _detectLanguage() {
    final name = widget.schemeName;
    if (name.contains(RegExp(r'[ఁ-౿]'))) return 'telugu';
    if (name.contains(RegExp(r'[ऀ-ॿ]'))) return 'hindi';
    return 'english';
  }

  void _speakCurrentTabText() {
    final index = _tabController.index;
    final content = _getTabText(index);
    if (content.isNotEmpty) tts.speak(content);
  }

  String _getTabText(int index) {
    final scheme = schemeContent[widget.schemeName];
    if (scheme == null) return "";
    switch (index) {
      case 0:
        return scheme['details'] ?? "";
      case 1:
        return scheme['benefits'] ?? "";
      case 2:
        return scheme['eligibility'] ?? "";
      case 3:
        return scheme['application'] ?? "";
      default:
        return "";
    }
  }

  @override
  Widget build(BuildContext context) {
    final fontSize = Provider.of<FontSizeProvider>(context).fontSize;
    final scheme = schemeContent[widget.schemeName];
    final lang = _detectLanguage();
    final tabs = localizedTabs[lang]!;

    return Scaffold(
      backgroundColor: Colors.lightBlue[50], // Light blue background
      appBar: AppBar(
        title: Text(
          widget.schemeName,
          style: TextStyle(fontSize: fontSize + 2, color: Colors.white), // Font size supported in title
        ),
        backgroundColor: Colors.lightBlue.shade600,
        iconTheme: const IconThemeData(color: Colors.white),
        actions: [
          IconButton(
            icon: Icon(
              isTtsEnabled ? Icons.volume_up : Icons.volume_off,
              color: Colors.white,
            ),
            onPressed: () {
              setState(() {
                isTtsEnabled = !isTtsEnabled;
                if (isTtsEnabled) {
                  _speakCurrentTabText();
                } else {
                  tts.stop();
                }
              });
            },
          )
        ],
        bottom: TabBar(
          controller: _tabController,
          indicatorColor: Colors.white,
          tabs: tabs
              .map((title) => Tab(
            child: Text(
              title,
              style: const TextStyle(
                  fontSize: 14, fontWeight: FontWeight.w500, color: Colors.white),
            ),
          ))
              .toList(),
        ),
      ),
      body: TabBarView(
        controller: _tabController,
        children: [
          _buildCardContent(scheme?['details'] ?? "", fontSize),
          _buildCardContent(scheme?['benefits'] ?? "", fontSize),
          _buildCardContent(scheme?['eligibility'] ?? "", fontSize),
          _buildCardContent(scheme?['application'] ?? "", fontSize),
        ],
      ),
    );
  }

  Widget _buildCardContent(String content, double fontSize) {
    return SingleChildScrollView(
      padding: const EdgeInsets.all(16),
      child: Card(
        elevation: 4,
        color: Colors.white, // White cards
        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(16)),
        child: Padding(
          padding: const EdgeInsets.all(16),
          child: Text(
            content,
            style: TextStyle(fontSize: fontSize),
          ),
        ),
      ),
    );
  }
}
